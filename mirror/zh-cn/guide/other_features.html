<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>xmake</title>
  <link rel="icon" href="/assets/img/favicon.ico">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link href="//cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" rel="stylesheet">
  <style>
	.markdown-body {
		box-sizing: border-box;
		min-width: 200px;
		max-width: 980px;
		margin: 0 auto;
		padding: 45px;
	}

	@media (max-width: 767px) {
		.markdown-body {
			padding: 15px;
		}
	}
  </style>
</head>
<body>
<article class="markdown-body">
<h4>This is a mirror page, please see the original page: </h4><a href="https://xmake.io/#/zh-cn/guide/other_features">https://xmake.io/#/zh-cn/guide/other_features</a>
</br>
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7I52QU&placement=xmakeio" id="_carbonads_js"></script>
<style>
#carbonads {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,
  Cantarell, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

#carbonads {
  display: flex;
  max-width: 330px;
  background-color: hsl(0, 0%, 98%);
  box-shadow: 0 1px 4px 1px hsla(0, 0%, 0%, .1);
}

#carbonads a {
  color: inherit;
  text-decoration: none;
}

#carbonads a:hover {
  color: inherit;
}

#carbonads span {
  position: relative;
  display: block;
  overflow: hidden;
}

#carbonads .carbon-wrap {
  display: flex;
}

.carbon-img {
  display: block;
  margin: 0;
  line-height: 1;
}

.carbon-img img {
  display: block;
}

.carbon-text {
  font-size: 13px;
  padding: 10px;
  line-height: 1.5;
  text-align: left;
}

.carbon-poweredby {
  display: block;
  padding: 8px 10px;
  background: repeating-linear-gradient(-45deg, transparent, transparent 5px, hsla(0, 0%, 0%, .025) 5px, hsla(0, 0%, 0%, .025) 10px) hsla(203, 11%, 95%, .4);
  text-align: center;
  text-transform: uppercase;
  letter-spacing: .5px;
  font-weight: 600;
  font-size: 9px;
  line-height: 1;
}
</style>
    <h2 id="-">å°è¯•ä½¿ç”¨å…¶ä»–æ„å»ºç³»ç»Ÿæ„å»º</h2>
<p>xmake v2.3.1ä»¥ä¸Šç‰ˆæœ¬ç›´æ¥å¯¹æ¥äº†å…¶ä»–ç¬¬ä¸‰æ–¹æ„å»ºç³»ç»Ÿï¼Œå³ä½¿å…¶ä»–é¡¹ç›®ä¸­æ²¡æœ‰ä½¿ç”¨xmake.luaæ¥ç»´æŠ¤ï¼Œxmakeä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨å…¶ä»–æ„å»ºå·¥å…·æ¥å®Œæˆç¼–è¯‘ã€‚</p>
<p>é‚£ç”¨æˆ·ç›´æ¥è°ƒç”¨ä½¿ç”¨ç¬¬ä¸‰æ–¹æ„å»ºå·¥å…·æ¥ç¼–è¯‘ä¸å°±è¡Œäº†ï¼Œä¸ºå•¥è¿˜è¦ç”¨xmakeå»è°ƒç”¨å‘¢ï¼Ÿä¸»è¦æœ‰ä»¥ä¸‹å¥½å¤„ï¼š</p>
<ol>
<li>å®Œå…¨çš„è¡Œä¸ºä¸€è‡´ï¼Œç®€åŒ–ç¼–è¯‘æµç¨‹ï¼Œä¸ç®¡ç”¨äº†å“ªä¸ªå…¶ä»–æ„å»ºç³»ç»Ÿï¼Œéƒ½åªéœ€è¦æ‰§è¡Œxmakeè¿™ä¸ªå‘½ä»¤å°±å¯ä»¥ç¼–è¯‘ï¼Œç”¨æˆ·ä¸å†éœ€è¦å»ç ”ç©¶å…¶ä»–å·¥å…·çš„ä¸åŒçš„ç¼–è¯‘æµç¨‹</li>
<li>å®Œå…¨å¯¹æ¥<code>xmake config</code>çš„é…ç½®ç¯å¢ƒï¼Œå¤ç”¨xmakeçš„å¹³å°æ¢æµ‹å’Œsdkç¯å¢ƒæ£€æµ‹ï¼Œç®€åŒ–å¹³å°é…ç½®</li>
<li>å¯¹æ¥äº¤å‰ç¼–è¯‘ç¯å¢ƒï¼Œå³ä½¿æ˜¯ç”¨autotoolsç»´æŠ¤çš„é¡¹ç›®ï¼Œä¹Ÿèƒ½é€šè¿‡xmakeå¿«é€Ÿå®ç°äº¤å‰ç¼–è¯‘</li>
</ol>
<p>ç›®å‰å·²æ”¯æŒçš„æ„å»ºç³»ç»Ÿï¼š</p>
<ul>
<li>autotoolsï¼ˆå·²å®Œå…¨å¯¹æ¥xmakeçš„äº¤å‰ç¼–è¯‘ç¯å¢ƒï¼‰</li>
<li>xcodebuild</li>
<li>cmake</li>
<li>make</li>
<li>msbuild</li>
<li>scons</li>
<li>meson</li>
<li>bazel</li>
<li>ndkbuild</li>
<li>ninja</li>
</ul>
<h3 id="-">è‡ªåŠ¨æ¢æµ‹æ„å»ºç³»ç»Ÿå¹¶ç¼–è¯‘</h3>
<p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªä½¿ç”¨cmakeç»´æŠ¤çš„é¡¹ç›®ï¼Œç›´æ¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œxmakeï¼Œå°±ä¼šè‡ªåŠ¨è§¦å‘æ¢æµ‹æœºåˆ¶ï¼Œæ£€æµ‹åˆ°CMakeLists.txtï¼Œç„¶åæç¤ºç”¨æˆ·æ˜¯å¦éœ€è¦ä½¿ç”¨cmakeæ¥ç»§ç»­å®Œæˆç¼–è¯‘ã€‚</p>
<pre><code class="lang-bash">$ xmake 
note: CMakeLists.txt found, try building it (pass -y or --confirm=y/n/d to skip confirm)?
please input: y (y/n)
-- Symbol prefix:
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/ruki/Downloads/libpng-1.6.35/build
[  7%] Built target png-fix-itxt
[ 21%] Built target genfiles
[ 81%] Built target png
[ 83%] Built target png_static
...
output to /Users/ruki/Downloads/libpng-1.6.35/build/artifacts
build ok!
</code></pre>
<h3 id="-xmake-">æ— ç¼å¯¹æ¥xmakeå‘½ä»¤</h3>
<p>ç›®å‰æ”¯æŒ<code>xmake clean</code>, <code>xmake --rebuild</code>å’Œ<code>xmake config</code>ç­‰å¸¸ç”¨å‘½ä»¤ä¸ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„æ— ç¼å¯¹æ¥ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¸…ç†cmakeç»´æŠ¤é¡¹ç›®çš„ç¼–è¯‘è¾“å‡ºæ–‡ä»¶</p>
<pre><code class="lang-bash">$ xmake clean
$ xmake clean --all
</code></pre>
<p>å¦‚æœå¸¦ä¸Š<code>--all</code>æ‰§è¡Œæ¸…ç†ï¼Œä¼šæ¸…é™¤autotools/cmakeç”Ÿæˆçš„æ‰€æœ‰æ–‡ä»¶ï¼Œä¸ä»…ä»…åªæ¸…ç†å¯¹è±¡æ–‡ä»¶ã€‚</p>
<p>é»˜è®¤<code>xmake</code>å¯¹æ¥çš„æ˜¯å¢é‡æ„å»ºè¡Œä¸ºï¼Œä¸è¿‡æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºåˆ¶å¿«é€Ÿé‡å»ºï¼š</p>
<pre><code class="lang-bash">$ xmake --rebuild
</code></pre>
<h3 id="-">æ‰‹åŠ¨åˆ‡æ¢æŒ‡å®šæ„å»ºç³»ç»Ÿ</h3>
<p>å¦‚æœä¸€ä¸ªé¡¹ç›®ä¸‹æœ‰å¤šä¸ªæ„å»ºç³»ç»ŸåŒæ—¶åœ¨ç»´æŠ¤ï¼Œæ¯”å¦‚libpngé¡¹ç›®ï¼Œè‡ªå¸¦autotools/cmake/makefileç­‰æ„å»ºç³»ç»Ÿç»´æŠ¤ï¼Œxmakeé»˜è®¤ä¼˜å…ˆæ¢æµ‹ä½¿ç”¨äº†autotoolsï¼Œå¦‚æœæƒ³è¦å¼ºåˆ¶åˆ‡æ¢å…¶ä»–æ„å»ºç³»ç»Ÿï¼Œå¯ä»¥æ‰§è¡Œï¼š</p>
<pre><code class="lang-bash">$ xmake f --trybuild=[autotools|cmake|make|msbuild| ..]
$ xmake
</code></pre>
<p>å¦å¤–ï¼Œé…ç½®äº†<code>--trybuild=</code>å‚æ•°æ‰‹åŠ¨æŒ‡å®šäº†é»˜è®¤çš„æ„å»ºç³»ç»Ÿï¼Œåç»­çš„buildè¿‡ç¨‹å°±ä¸ä¼šé¢å¤–æç¤ºç”¨æˆ·é€‰æ‹©äº†ã€‚</p>
<h3 id="-">å®ç°å¿«é€Ÿäº¤å‰ç¼–è¯‘</h3>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œautotoolsç»´æŠ¤çš„é¡¹ç›®è™½ç„¶å¾ˆå¤šéƒ½æ”¯æŒäº¤å‰ç¼–è¯‘ï¼Œä½†æ˜¯äº¤å‰ç¼–è¯‘çš„é…ç½®è¿‡ç¨‹å¾ˆå¤æ‚ï¼Œä¸åŒçš„å·¥å…·é“¾å¤„ç†æ–¹å¼è¿˜æœ‰å¾ˆå¤šçš„å·®å¼‚ï¼Œä¸­é€”ä¼šè¸©åˆ°å¾ˆå¤šçš„å‘ã€‚</p>
<p>å³ä½¿è·‘é€šäº†ä¸€ä¸ªå·¥å…·é“¾çš„äº¤å‰ç¼–è¯‘ï¼Œå¦‚æœåˆ‡åˆ°å¦å¤–ä¸€ä¸ªå·¥å…·é“¾ç¯å¢ƒï¼Œå¯èƒ½åˆè¦æŠ˜è…¾å¥½ä¹…ï¼Œè€Œå¦‚æœä½¿ç”¨xmakeï¼Œé€šå¸¸åªéœ€è¦ä¸¤æ¡ç®€å•çš„å‘½ä»¤å³å¯ï¼š</p>
<p>!> ç›®å‰å°±autotoolså¯¹æ¥æ”¯æŒäº†xmakeçš„äº¤å‰ç¼–è¯‘ï¼ŒåæœŸè¿˜ä¼šå¯¹cmakeç­‰å…¶ä»–æ„å»ºç³»ç»ŸåŠ ä¸Šæ”¯æŒã€‚</p>
<h4 id="-android-">äº¤å‰ç¼–è¯‘androidå¹³å°</h4>
<pre><code class="lang-bash">$ xmake f -p android --trybuild=autotools [--ndk=xxx]
$ xmake
</code></pre>
<p>!> å…¶ä¸­ï¼Œ--ndkå‚æ•°é…ç½®æ˜¯å¯é€‰çš„ï¼Œå¦‚æœç”¨æˆ·è®¾ç½®äº†ANDROID_NDK_HOMEç¯å¢ƒå˜é‡ï¼Œæˆ–è€…ndkæ”¾ç½®åœ¨~/Library/Android/sdk/ndk-bundleï¼Œxmakeéƒ½èƒ½è‡ªåŠ¨æ£€æµ‹åˆ°ã€‚</p>
<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Ÿå¦‚æœä½ è§‰å¾—è¿™æ²¡å•¥ï¼Œé‚£ä¹ˆå¯ä»¥å¯¹æ¯”ä¸‹ç›´æ¥æ“ä½œ<code>./configure</code>å»é…ç½®äº¤å‰ç¼–è¯‘ï¼Œå¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡æ¡£å¯¹æ¯”ä¸‹ï¼š<a href="https://developer.android.com/ndk/guides/other_build_systems#autoconf">å°†NDK ä¸å…¶ä»–ç¼–è¯‘ç³»ç»Ÿé…åˆä½¿ç”¨</a></p>
<p>è¯´ç™½äº†ï¼Œä½ å¤§æ¦‚å¾—è¿™æ ·ï¼Œè¿˜ä¸ä¸€å®šä¸€æ¬¡å°±èƒ½æå®šï¼š</p>
<pre><code class="lang-bash">$ export TOOLCHAIN=$NDK/toolchains/llvm/prebuilt/$HOST_TAG
$ export AR=$TOOLCHAIN/bin/aarch64-linux-android-ar
$ export AS=$TOOLCHAIN/bin/aarch64-linux-android-as
$ export CC=$TOOLCHAIN/bin/aarch64-linux-android21-clang
$ export CXX=$TOOLCHAIN/bin/aarch64-linux-android21-clang++
$ export LD=$TOOLCHAIN/bin/aarch64-linux-android-ld
$ export RANLIB=$TOOLCHAIN/bin/aarch64-linux-android-ranlib
$ export STRIP=$TOOLCHAIN/bin/aarch64-linux-android-strip
$ ./configure --host aarch64-linux-android
$ make
</code></pre>
<h4 id="-iphoneos-">äº¤å‰ç¼–è¯‘iphoneoså¹³å°</h4>
<pre><code class="lang-bash">$ xmake f -p iphoneos --trybuild=autotools
$ xmake
</code></pre>
<h4 id="-mingw-">äº¤å‰ç¼–è¯‘mingwå¹³å°</h4>
<pre><code class="lang-bash">$ xmake f -p mingw --trybuild=autotools [--mingw=xxx]
$ xmake
</code></pre>
<h4 id="-">ä½¿ç”¨å…¶ä»–äº¤å‰ç¼–è¯‘å·¥å…·é“¾</h4>
<pre><code class="lang-bash">$ xmake f -p cross --trybuild=autotools --sdk=/xxxx
$ xmake
</code></pre>
<p>å…³äºæ›´å¤šäº¤å‰ç¼–è¯‘çš„é…ç½®ç»†èŠ‚ï¼Œè¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://xmake.io/#/zh-cn/guide/configuration?id=%e4%ba%a4%e5%8f%89%e7%bc%96%e8%af%91">äº¤å‰ç¼–è¯‘</a>ï¼Œé™¤äº†å¤šäº†ä¸€ä¸ª<code>--trybuild=</code>å‚æ•°ï¼Œå…¶ä»–äº¤å‰ç¼–è¯‘é…ç½®å‚æ•°éƒ½æ˜¯å®Œå…¨é€šç”¨çš„ã€‚</p>
<h3 id="-">ä¼ é€’ç”¨æˆ·é…ç½®å‚æ•°</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>--tryconfigs=</code>æ¥ä¼ é€’ç”¨æˆ·é¢å¤–çš„é…ç½®å‚æ•°åˆ°å¯¹åº”çš„ç¬¬ä¸‰æ–¹æ„å»ºç³»ç»Ÿï¼Œæ¯”å¦‚ï¼šautotoolsä¼šä¼ é€’ç»™<code>./configure</code>ï¼Œcmakeä¼šä¼ é€’ç»™<code>cmake</code>å‘½ä»¤ã€‚</p>
<pre><code class="lang-bash">$ xmake f --trybuild=autotools --tryconfigs="--enable-shared=no"
$ xmake
</code></pre>
<p>æ¯”å¦‚ä¸Šè¿°å‘½ä»¤ï¼Œä¼ é€’<code>--enable-shared=no</code>ç»™<code>./configure</code>ï¼Œæ¥ç¦ç”¨åŠ¨æ€åº“ç¼–è¯‘ã€‚</p>
<p>å¦å¤–ï¼Œå¯¹äº<code>--cflags</code>, <code>--includedirs</code>å’Œ<code>--ldflags</code>ç­‰å‚æ•°ï¼Œä¸éœ€è¦é€šè¿‡<code>--tryconfigs</code>ï¼Œé€šè¿‡<code>xmake config --cflags=</code>ç­‰å†…ç½®å‚æ•°å°±å¯é€ä¼ è¿‡å»ã€‚</p>
<h3 id="-">ç¼–è¯‘å…¶ä»–æ„å»ºç³»ç»Ÿè¿‡ç¨‹ç¤ºä¾‹</h3>
<h4 id="-">é€šç”¨ç¼–è¯‘æ–¹å¼</h4>
<p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ„å»ºç³»ç»Ÿå¯¹æ¥åçš„ç¼–è¯‘æ–¹å¼éƒ½æ˜¯ä¸€è‡´çš„ï¼Œé™¤äº†<code>--trybuild=</code>é…ç½®å‚æ•°é™¤å¤–ã€‚</p>
<pre><code class="lang-bash">$ xmake f --trybuild=[autotools|cmake|meson|ninja|bazel|make|msbuild|xcodebuild]
$ xmake
</code></pre>
<p>!> æˆ‘ä»¬è¿˜éœ€è¦ç¡®ä¿--trybuildæŒ‡å®šçš„æ„å»ºå·¥å…·å·²ç»å®‰è£…èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚</p>
<h4 id="-android-jni-">æ„å»ºAndroid jniç¨‹åº</h4>
<p>å¦‚æœå½“å‰é¡¹ç›®ä¸‹å­˜åœ¨<code>jni/Android.mk</code>ï¼Œé‚£ä¹ˆxmakeå¯ä»¥ç›´æ¥è°ƒç”¨ndk-buildæ¥æ„å»ºjniåº“ã€‚</p>
<pre><code class="lang-bash">$ xmake f -p android --trybuild=ndkbuild [--ndk=]
$ xmake
</code></pre>
<p>å¦‚æœè§‰å¾—å‘½ä»¤è¡Œç¼–è¯‘jniæ¯”è¾ƒéº»çƒ¦ï¼Œxmakeä¹Ÿæä¾›äº†ç›¸å…³çš„gradleé›†æˆæ’ä»¶<a href="https://github.com/xmake-io/xmake-gradle">xmake-gradle</a>ï¼Œå¯ä»¥æ— ç¼é›†æˆxmakeè¿›è¡Œjniåº“çš„ç¼–è¯‘é›†æˆï¼Œå…·ä½“è¯¦æƒ…è§ï¼š<a href="https://xmake.io/#/zh-cn/plugin/more_plugins?id=gradle%e6%8f%92%e4%bb%b6%ef%bc%88jni%ef%bc%89">ä½¿ç”¨xmake-gradleæ’ä»¶æ„å»ºJNIç¨‹åº</a></p>
<h2 id="-xmake-lua">è‡ªåŠ¨æ‰«ææºç ç”Ÿæˆxmake.lua</h2>
<p>å¯¹äºä¸€ä»½å·¥ç¨‹æºç ï¼Œå¯ä»¥ä¸ç”¨ç¼–å†™makefileï¼Œä¹Ÿä¸ç”¨ç¼–å†™å„ç§makeç›¸å…³çš„å·¥ç¨‹æè¿°æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼šxmake.luaï¼Œmakefile.am, cmakelist.txtç­‰ï¼‰</p>
<p>xmakeå°±å¯ä»¥ç›´æ¥ç¼–è¯‘ä»–ä»¬ï¼Œè¿™æ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Œç®€å•æ¥è¯´ä¸‹å®ç°åŸç†ï¼š</p>
<ol>
<li>é¦–å…ˆæ‰«æå½“å‰ç›®å½•ä¸‹ï¼Œxmakeæ‰€ä»¥æ”¯æŒçš„æ‰€æœ‰æºä»£ç æ–‡ä»¶</li>
<li>åˆ†æä»£ç ï¼Œæ£€æµ‹å“ªäº›ä»£ç æ‹¥æœ‰mainå…¥å£å‡½æ•°</li>
<li>æ‰€æœ‰æ²¡æœ‰mainå…¥å£çš„ä»£ç ç¼–è¯‘æˆé™æ€åº“</li>
<li>å¸¦æœ‰mainå…¥å£çš„ä»£ç ï¼Œç¼–è¯‘æˆå¯æ‰§è¡Œç¨‹åºï¼ŒåŒæ—¶é“¾æ¥å…¶ä»–é™æ€åº“ç¨‹åº</li>
</ol>
<p>è¿™ç§ä»£ç æ‰«æå’Œæ™ºèƒ½ç¼–è¯‘ï¼Œéå¸¸ç®€å•ï¼Œç›®å‰xmakeè¿˜ä¸æ”¯æŒå¤šçº§ç›®å½•æ‰«æï¼Œåªå¯¹å•çº§ç›®å½•çš„ä»£ç è¿›è¡Œæ‰«æç¼–è¯‘ã€‚ã€‚</p>
<h3 id="-">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>ä¸´æ—¶å¿«é€Ÿç¼–è¯‘å’Œè¿è¡Œä¸€äº›é›¶æ•£çš„æµ‹è¯•ä»£ç </li>
<li>å°è¯•å¯¹å…¶ä»–å¼€æºåº“åšç§»æ¤ç¼–è¯‘</li>
<li>å¿«é€ŸåŸºäºç°æœ‰ä»£ç åˆ›å»ºæ–°xmakeå·¥ç¨‹</li>
</ol>
<h3 id="-">å¦‚ä½•ä½¿ç”¨</h3>
<p>ç›´æ¥åœ¨å¸¦æœ‰æºç çš„ç›®å½•ï¼ˆæ²¡æœ‰xmake.luaï¼‰ä¸‹æ‰§è¡Œxmakeï¼Œç„¶åæ ¹æ®æç¤ºæ“ä½œï¼š</p>
<pre><code class="lang-bash">$ xmake
note: xmake.lua not found, try generating it (pass -y or --confirm=y/n/d to skip confirm)?
please input: n (y/n)
y
</code></pre>
<h3 id="-">å¼€æºä»£ç çš„ç§»æ¤å’Œç¼–è¯‘</h3>
<p>è™½ç„¶è¿™ç§æ–¹å¼ï¼Œå¹¶ä¸æ˜¯éå¸¸æ™ºèƒ½ï¼Œé™åˆ¶ä¹Ÿä¸å°‘ï¼Œä½†æ˜¯å¯¹äºæƒ³ä¸´æ—¶å†™äº›ä»£ç è¿›è¡Œç¼–è¯‘è¿è¡Œï¼Œæˆ–è€…ä¸´æ—¶æƒ³äº¤å‰ç¼–è¯‘ä¸€äº›ç®€å•çš„å¼€æºåº“ä»£ç </p>
<p>è¿™ç§æ–¹å¼å·²ç»è¶³å¤Ÿä½¿ç”¨äº†ï¼Œä¸‹é¢çœ‹ä¸‹ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼š</p>
<p>æˆ‘ä¸‹è½½äº†ä¸€ä»½zlib-1.2.10çš„æºç ï¼Œæƒ³è¦ç¼–è¯‘å®ƒï¼Œåªéœ€è¦è¿›å…¥zlibçš„æºç ç›®å½•æ‰§è¡Œï¼š</p>
<pre><code class="lang-bash">$ cd zlib-1.2.10
$ xmake
note: xmake.lua not found, try generating it (pass -y or --confirm=y/n/d to skip confirm)?
please input: n (y/n)
y
</code></pre>
<p>å°±è¡Œäº†ï¼Œè¾“å…¥yç¡®è®¤åï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>target(zlib-1.2): static
    [+]: ./adler32.c
    [+]: ./compress.c
    [+]: ./crc32.c
    [+]: ./deflate.c
    [+]: ./gzclose.c
    [+]: ./gzlib.c
    [+]: ./gzread.c
    [+]: ./gzwrite.c
    [+]: ./infback.c
    [+]: ./inffast.c
    [+]: ./inflate.c
    [+]: ./inftrees.c
    [+]: ./trees.c
    [+]: ./uncompr.c
    [+]: ./zutil.c
xmake.lua generated, scan ok!ğŸ‘Œ
checking for the architecture ... x86_64
checking for the Xcode SDK version for macosx ... 10.12
checking for the target minimal version ... 10.12
checking for the c compiler (cc) ... xcrun -sdk macosx clang
checking for the c++ compiler (cxx) ... xcrun -sdk macosx clang
checking for the objc compiler (mm) ... xcrun -sdk macosx clang
checking for the objc++ compiler (mxx) ... xcrun -sdk macosx clang++
checking for the swift compiler (sc) ... xcrun -sdk macosx swiftc
checking for the assember (as) ... xcrun -sdk macosx clang
checking for the linker (ld) ... xcrun -sdk macosx clang++
checking for the static library archiver (ar) ... xcrun -sdk macosx ar
checking for the static library extractor (ex) ... xcrun -sdk macosx ar
checking for the shared library linker (sh) ... xcrun -sdk macosx clang++
checking for the debugger (dd) ... xcrun -sdk macosx lldb
checking for the golang compiler (go) ... go
configure
{
    ex = "xcrun -sdk macosx ar"
,   sh = "xcrun -sdk macosx clang++"
,   host = "macosx"
,   ar = "xcrun -sdk macosx ar"
,   buildir = "build"
,   as = "xcrun -sdk macosx clang"
,   plat = "macosx"
,   xcode_dir = "/Applications/Xcode.app"
,   arch = "x86_64"
,   mxx = "xcrun -sdk macosx clang++"
,   go = "go"
,   target_minver = "10.12"
,   ccache = "ccache"
,   mode = "release"
,   clean = true
,   cxx = "xcrun -sdk macosx clang"
,   cc = "xcrun -sdk macosx clang"
,   dd = "xcrun -sdk macosx lldb"
,   kind = "static"
,   ld = "xcrun -sdk macosx clang++"
,   xcode_sdkver = "10.12"
,   sc = "xcrun -sdk macosx swiftc"
,   mm = "xcrun -sdk macosx clang"
}
configure ok!
clean ok!
[00%]: ccache compiling.release ./adler32.c
[06%]: ccache compiling.release ./compress.c
[13%]: ccache compiling.release ./crc32.c
[20%]: ccache compiling.release ./deflate.c
[26%]: ccache compiling.release ./gzclose.c
[33%]: ccache compiling.release ./gzlib.c
[40%]: ccache compiling.release ./gzread.c
[46%]: ccache compiling.release ./gzwrite.c
[53%]: ccache compiling.release ./infback.c
[60%]: ccache compiling.release ./inffast.c
[66%]: ccache compiling.release ./inflate.c
[73%]: ccache compiling.release ./inftrees.c
[80%]: ccache compiling.release ./trees.c
[86%]: ccache compiling.release ./uncompr.c
[93%]: ccache compiling.release ./zutil.c
[100%]: archiving.release libzlib-1.2.a
build ok!ğŸ‘Œ
</code></pre><p>é€šè¿‡è¾“å‡ºç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œxmakeä¼šå»æ£€æµ‹æ‰«æå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰.cä»£ç ï¼Œå‘ç°æ²¡æœ‰mainå…¥å£ï¼Œåº”è¯¥æ˜¯é™æ€åº“ç¨‹åºï¼Œå› æ­¤æ‰§è¡Œxmakeåï¼Œå°±ç›´æ¥ç¼–è¯‘æˆé™æ€åº“libzlib-1.2.aäº†</p>
<p>è¿xmake.luaéƒ½æ²¡æœ‰ç¼–å†™ï¼Œå…¶å®xmakeåœ¨æ‰«æå®Œæˆåï¼Œä¼šå»è‡ªåŠ¨åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä»½xmake.luaï¼Œä¸‹æ¬¡ç¼–è¯‘å°±ä¸éœ€è¦é‡æ–°æ‰«ææ£€æµ‹äº†ã€‚</p>
<p>è‡ªåŠ¨ç”Ÿæˆçš„xmake.luaå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="lang-lua">-- define target
target("zlib-1.2")

    -- set kind
    set_kind("static")

    -- add files
    add_files("./adler32.c")
    add_files("./compress.c")
    add_files("./crc32.c")
    add_files("./deflate.c")
    add_files("./gzclose.c")
    add_files("./gzlib.c")
    add_files("./gzread.c")
    add_files("./gzwrite.c")
    add_files("./infback.c")
    add_files("./inffast.c")
    add_files("./inflate.c")
    add_files("./inftrees.c")
    add_files("./trees.c")
    add_files("./uncompr.c")
    add_files("./zutil.c")
</code></pre>
<p>ä¹Ÿè®¸ä½ ä¼šè¯´ï¼Œåƒè¿™ç§å¼€æºåº“ï¼Œç›´æ¥<code>configure; make</code>ä¸å°±å¥½äº†å—ï¼Œä»–ä»¬è‡ªå·±ä¹Ÿæœ‰æä¾›makefileæ¥ç›´æ¥ç¼–è¯‘çš„ï¼Œçš„ç¡®æ˜¯è¿™æ ·ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ä¸¾ä¸ªä¾‹å­è€Œå·²ã€‚ã€‚</p>
<p>å½“ç„¶ï¼Œå¾ˆå¤šå¼€æºåº“åœ¨äº¤å‰ç¼–è¯‘çš„æ—¶å€™ï¼Œé€šè¿‡è‡ªå¸¦çš„<code>configure</code>ï¼Œå¤„ç†èµ·æ¥è¿˜æ˜¯å¾ˆç¹ççš„ï¼Œç”¨xmakeè¿›è¡Œäº¤å‰ç¼–è¯‘ä¼šæ›´æ–¹ä¾¿äº›ã€‚ã€‚</p>
<h3 id="-">å³æ—¶åœ°ä»£ç ç¼–å†™å’Œç¼–è¯‘è¿è¡Œ</h3>
<p>xmakeçš„è¿™ä¸ªæ‰«æä»£ç ç¼–è¯‘ç‰¹æ€§ï¼Œä¸»è¦çš„ç›®çš„ï¼šè¿˜æ˜¯ä¸ºäº†è®©æˆ‘ä»¬åœ¨ä¸´æ—¶æƒ³å†™äº›æµ‹è¯•ä»£ç çš„æ—¶å€™ï¼Œä¸ç”¨è€ƒè™‘å¤ªå¤šä¸œè¥¿ï¼Œç›´æ¥ä¸Šæ‰‹æ•²ä»£ç ï¼Œç„¶åå¿«é€Ÿæ‰§è¡Œ<code>xmake run</code> æ¥è°ƒè¯•éªŒè¯ç»“æœã€‚ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>æˆ‘æƒ³å†™äº†ä¸ªç®€å•çš„main.cçš„æµ‹è¯•ç¨‹åºï¼Œæ‰“å°<code>hello world!</code>ï¼Œå¦‚æœè¦å†™makefileæˆ–è€…ç›´æ¥é€šè¿‡gccå‘½ä»¤æ¥ï¼Œå°±å¾ˆç¹çäº†ï¼Œä½ éœ€è¦ï¼š</p>
<pre><code class="lang-bash">gcc ./main.c -o demo
./demo
</code></pre>
<p>æœ€å¿«é€Ÿçš„æ–¹å¼ï¼Œä¹Ÿéœ€è¦æ‰§è¡Œä¸¤è¡Œå‘½ä»¤ï¼Œè€Œå¦‚æœç”¨xmakeï¼Œåªéœ€è¦æ‰§è¡Œï¼š</p>
<pre><code class="lang-bash">xmake run
</code></pre>
<p>å°±è¡Œäº†ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æµ‹åˆ°ä»£ç åï¼Œè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„xmake.luaï¼Œè‡ªåŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨è¿è¡Œï¼Œç„¶åè¾“å‡ºï¼š</p>
<pre><code>hello world!
</code></pre><p>å¦‚æœä½ æœ‰åå‡ ä¸ªä»£ç æ–‡ä»¶ï¼Œç”¨æ‰‹æ•²gccçš„æ–¹å¼ï¼Œæˆ–è€…å†™makefileçš„æ–¹å¼ï¼Œè¿™ä¸ªå·®è·å°±æ›´æ˜æ˜¾äº†ï¼Œç”¨xmakeè¿˜æ˜¯åªéœ€è¦ä¸€è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="lang-bash">xmake run
</code></pre>
<h3 id="-">å¤šè¯­è¨€æ”¯æŒ</h3>
<p>è¿™ç§ä»£ç æ£€æµ‹å’Œå³æ—¶ç¼–è¯‘ï¼Œæ˜¯æ”¯æŒå¤šè¯­è¨€çš„ï¼Œä¸ä»…æ”¯æŒc/c++ï¼Œè¿˜æ”¯æŒobjc/swiftï¼ŒåæœŸè¿˜ä¼šæ”¯æŒgolangï¼ˆæ­£åœ¨å¼€å‘ä¸­ï¼‰</p>
<p>ä¾‹å¦‚æˆ‘ä¸‹è½½äº†ä¸€ä»½fmdbçš„ioså¼€æºæ¡†æ¶ä»£ç ï¼š</p>
<pre><code>.
â”œâ”€â”€ FMDB.h
â”œâ”€â”€ FMDatabase.h
â”œâ”€â”€ FMDatabase.m
â”œâ”€â”€ FMDatabaseAdditions.h
â”œâ”€â”€ FMDatabaseAdditions.m
â”œâ”€â”€ FMDatabasePool.h
â”œâ”€â”€ FMDatabasePool.m
â”œâ”€â”€ FMDatabaseQueue.h
â”œâ”€â”€ FMDatabaseQueue.m
â”œâ”€â”€ FMResultSet.h
â””â”€â”€ FMResultSet.m
</code></pre><p>æƒ³è¦æŠŠå®ƒç¼–è¯‘æˆiosçš„é™æ€åº“ï¼Œä½†æ˜¯åˆä¸æƒ³å†™xmake.luaï¼Œæˆ–è€…makefileï¼Œé‚£ä¹ˆåªéœ€è¦ä½¿ç”¨xmakeçš„è¿™ä¸ªæ–°ç‰¹æ€§ï¼Œç›´æ¥æ‰§è¡Œï¼š</p>
<pre><code class="lang-bash">$ xmake f -p iphoneos; xmake
</code></pre>
<p>å°±è¡Œäº†ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code>xmake.lua not found, scanning files ..
target(FMDB): static
    [+]: ./FMDatabase.m
    [+]: ./FMDatabaseAdditions.m
    [+]: ./FMDatabasePool.m
    [+]: ./FMDatabaseQueue.m
    [+]: ./FMResultSet.m
xmake.lua generated, scan ok!ğŸ‘Œ
checking for the architecture ... armv7
checking for the Xcode SDK version for iphoneos ... 10.1
checking for the target minimal version ... 10.1
checking for the c compiler (cc) ... xcrun -sdk iphoneos clang
checking for the c++ compiler (cxx) ... xcrun -sdk iphoneos clang
checking for the objc compiler (mm) ... xcrun -sdk iphoneos clang
checking for the objc++ compiler (mxx) ... xcrun -sdk iphoneos clang++
checking for the assember (as) ... gas-preprocessor.pl xcrun -sdk iphoneos clang
checking for the linker (ld) ... xcrun -sdk iphoneos clang++
checking for the static library archiver (ar) ... xcrun -sdk iphoneos ar
checking for the static library extractor (ex) ... xcrun -sdk iphoneos ar
checking for the shared library linker (sh) ... xcrun -sdk iphoneos clang++
checking for the swift compiler (sc) ... xcrun -sdk iphoneos swiftc
configure
{
    ex = "xcrun -sdk iphoneos ar"
,   ccache = "ccache"
,   host = "macosx"
,   ar = "xcrun -sdk iphoneos ar"
,   buildir = "build"
,   as = "/usr/local/share/xmake/tools/utils/gas-preprocessor.pl xcrun -sdk iphoneos clang"
,   arch = "armv7"
,   mxx = "xcrun -sdk iphoneos clang++"
,   cxx = "xcrun -sdk iphoneos clang"
,   target_minver = "10.1"
,   xcode_dir = "/Applications/Xcode.app"
,   clean = true
,   sh = "xcrun -sdk iphoneos clang++"
,   cc = "xcrun -sdk iphoneos clang"
,   ld = "xcrun -sdk iphoneos clang++"
,   mode = "release"
,   kind = "static"
,   plat = "iphoneos"
,   xcode_sdkver = "10.1"
,   sc = "xcrun -sdk iphoneos swiftc"
,   mm = "xcrun -sdk iphoneos clang"
}
configure ok!
clean ok!
[00%]: ccache compiling.release ./FMDatabase.m
[20%]: ccache compiling.release ./FMDatabaseAdditions.m
[40%]: ccache compiling.release ./FMDatabasePool.m
[60%]: ccache compiling.release ./FMDatabaseQueue.m
[80%]: ccache compiling.release ./FMResultSet.m
[100%]: archiving.release libFMDB.a
build ok!ğŸ‘Œ
</code></pre><h3 id="-">åŒæ—¶ç¼–è¯‘å¤šä¸ªå¯æ‰§è¡Œæ–‡ä»¶</h3>
<p>è¾“å‡ºç»“æœçš„å¼€å¤´éƒ¨åˆ†ï¼Œå°±æ˜¯å¯¹ä»£ç çš„åˆ†æç»“æœï¼Œè™½ç„¶ç›®å‰åªæ”¯æŒå•çº§ç›®å½•ç»“æ„çš„ä»£ç æ‰«æï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥åŒæ—¶æ”¯æŒæ£€æµ‹å’Œç¼–è¯‘å¤šä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„</p>
<p>æˆ‘ä»¬ä»¥libjpegçš„å¼€æºåº“ä¸ºä¾‹ï¼š</p>
<p>æˆ‘ä»¬è¿›å…¥jpeg-6bç›®å½•åï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="lang-bash">$ xmake
</code></pre>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code>xmake.lua not found, scanning files ..
target(jpeg-6b): static
    [+]: ./cdjpeg.c
    [+]: ./example.c
    [+]: ./jcapimin.c
    [+]: ./jcapistd.c
    [+]: ./jccoefct.c
    [+]: ./jccolor.c
    [+]: ./jcdctmgr.c
    [+]: ./jchuff.c
    [+]: ./jcinit.c
    [+]: ./jcmainct.c
    [+]: ./jcmarker.c
    [+]: ./jcmaster.c
    [+]: ./jcomapi.c
    [+]: ./jcparam.c
    [+]: ./jcphuff.c
    [+]: ./jcprepct.c
    [+]: ./jcsample.c
    [+]: ./jctrans.c
    [+]: ./jdapimin.c
    [+]: ./jdapistd.c
    [+]: ./jdatadst.c
    [+]: ./jdatasrc.c
    [+]: ./jdcoefct.c
    [+]: ./jdcolor.c
    [+]: ./jddctmgr.c
    [+]: ./jdhuff.c
    [+]: ./jdinput.c
    [+]: ./jdmainct.c
    [+]: ./jdmarker.c
    [+]: ./jdmaster.c
    [+]: ./jdmerge.c
    [+]: ./jdphuff.c
    [+]: ./jdpostct.c
    [+]: ./jdsample.c
    [+]: ./jdtrans.c
    [+]: ./jerror.c
    [+]: ./jfdctflt.c
    [+]: ./jfdctfst.c
    [+]: ./jfdctint.c
    [+]: ./jidctflt.c
    [+]: ./jidctfst.c
    [+]: ./jidctint.c
    [+]: ./jidctred.c
    [+]: ./jmemansi.c
    [+]: ./jmemmgr.c
    [+]: ./jmemname.c
    [+]: ./jmemnobs.c
    [+]: ./jquant1.c
    [+]: ./jquant2.c
    [+]: ./jutils.c
    [+]: ./rdbmp.c
    [+]: ./rdcolmap.c
    [+]: ./rdgif.c
    [+]: ./rdppm.c
    [+]: ./rdrle.c
    [+]: ./rdswitch.c
    [+]: ./rdtarga.c
    [+]: ./transupp.c
    [+]: ./wrbmp.c
    [+]: ./wrgif.c
    [+]: ./wrppm.c
    [+]: ./wrrle.c
    [+]: ./wrtarga.c
target(ansi2knr): binary
    [+]: ./ansi2knr.c
target(cjpeg): binary
    [+]: ./cjpeg.c
target(ckconfig): binary
    [+]: ./ckconfig.c
target(djpeg): binary
    [+]: ./djpeg.c
target(jpegtran): binary
    [+]: ./jpegtran.c
target(rdjpgcom): binary
    [+]: ./rdjpgcom.c
target(wrjpgcom): binary
    [+]: ./wrjpgcom.c
xmake.lua generated, scan ok!ğŸ‘Œ
checking for the architecture ... x86_64
checking for the Xcode SDK version for macosx ... 10.12
checking for the target minimal version ... 10.12
checking for the c compiler (cc) ... xcrun -sdk macosx clang
checking for the c++ compiler (cxx) ... xcrun -sdk macosx clang
checking for the objc compiler (mm) ... xcrun -sdk macosx clang
checking for the objc++ compiler (mxx) ... xcrun -sdk macosx clang++
checking for the swift compiler (sc) ... xcrun -sdk macosx swiftc
checking for the assember (as) ... xcrun -sdk macosx clang
checking for the linker (ld) ... xcrun -sdk macosx clang++
checking for the static library archiver (ar) ... xcrun -sdk macosx ar
checking for the static library extractor (ex) ... xcrun -sdk macosx ar
checking for the shared library linker (sh) ... xcrun -sdk macosx clang++
checking for the debugger (dd) ... xcrun -sdk macosx lldb
checking for the golang compiler (go) ... go
configure
{
    ex = "xcrun -sdk macosx ar"
,   sh = "xcrun -sdk macosx clang++"
,   host = "macosx"
,   ar = "xcrun -sdk macosx ar"
,   buildir = "build"
,   as = "xcrun -sdk macosx clang"
,   plat = "macosx"
,   xcode_dir = "/Applications/Xcode.app"
,   arch = "x86_64"
,   mxx = "xcrun -sdk macosx clang++"
,   go = "go"
,   target_minver = "10.12"
,   ccache = "ccache"
,   mode = "release"
,   clean = true
,   cxx = "xcrun -sdk macosx clang"
,   cc = "xcrun -sdk macosx clang"
,   dd = "xcrun -sdk macosx lldb"
,   kind = "static"
,   ld = "xcrun -sdk macosx clang++"
,   xcode_sdkver = "10.12"
,   sc = "xcrun -sdk macosx swiftc"
,   mm = "xcrun -sdk macosx clang"
}
configure ok!
clean ok!
[00%]: ccache compiling.release ./cdjpeg.c
[00%]: ccache compiling.release ./example.c
[00%]: ccache compiling.release ./jcapimin.c
[00%]: ccache compiling.release ./jcapistd.c
[00%]: ccache compiling.release ./jccoefct.c
[00%]: ccache compiling.release ./jccolor.c
[01%]: ccache compiling.release ./jcdctmgr.c
[01%]: ccache compiling.release ./jchuff.c
[01%]: ccache compiling.release ./jcinit.c
[01%]: ccache compiling.release ./jcmainct.c
[01%]: ccache compiling.release ./jcmarker.c
[02%]: ccache compiling.release ./jcmaster.c
[02%]: ccache compiling.release ./jcomapi.c
[02%]: ccache compiling.release ./jcparam.c
[02%]: ccache compiling.release ./jcphuff.c
[02%]: ccache compiling.release ./jcprepct.c
[03%]: ccache compiling.release ./jcsample.c
[03%]: ccache compiling.release ./jctrans.c
[03%]: ccache compiling.release ./jdapimin.c
[03%]: ccache compiling.release ./jdapistd.c
[03%]: ccache compiling.release ./jdatadst.c
[04%]: ccache compiling.release ./jdatasrc.c
[04%]: ccache compiling.release ./jdcoefct.c
[04%]: ccache compiling.release ./jdcolor.c
[04%]: ccache compiling.release ./jddctmgr.c
[04%]: ccache compiling.release ./jdhuff.c
[05%]: ccache compiling.release ./jdinput.c
[05%]: ccache compiling.release ./jdmainct.c
[05%]: ccache compiling.release ./jdmarker.c
[05%]: ccache compiling.release ./jdmaster.c
[05%]: ccache compiling.release ./jdmerge.c
[06%]: ccache compiling.release ./jdphuff.c
[06%]: ccache compiling.release ./jdpostct.c
[06%]: ccache compiling.release ./jdsample.c
[06%]: ccache compiling.release ./jdtrans.c
[06%]: ccache compiling.release ./jerror.c
[07%]: ccache compiling.release ./jfdctflt.c
[07%]: ccache compiling.release ./jfdctfst.c
[07%]: ccache compiling.release ./jfdctint.c
[07%]: ccache compiling.release ./jidctflt.c
[07%]: ccache compiling.release ./jidctfst.c
[08%]: ccache compiling.release ./jidctint.c
[08%]: ccache compiling.release ./jidctred.c
[08%]: ccache compiling.release ./jmemansi.c
[08%]: ccache compiling.release ./jmemmgr.c
[08%]: ccache compiling.release ./jmemname.c
[09%]: ccache compiling.release ./jmemnobs.c
[09%]: ccache compiling.release ./jquant1.c
[09%]: ccache compiling.release ./jquant2.c
[09%]: ccache compiling.release ./jutils.c
[09%]: ccache compiling.release ./rdbmp.c
[10%]: ccache compiling.release ./rdcolmap.c
[10%]: ccache compiling.release ./rdgif.c
[10%]: ccache compiling.release ./rdppm.c
[10%]: ccache compiling.release ./rdrle.c
[10%]: ccache compiling.release ./rdswitch.c
[11%]: ccache compiling.release ./rdtarga.c
[11%]: ccache compiling.release ./transupp.c
[11%]: ccache compiling.release ./wrbmp.c
[11%]: ccache compiling.release ./wrgif.c
[11%]: ccache compiling.release ./wrppm.c
[12%]: ccache compiling.release ./wrrle.c
[12%]: ccache compiling.release ./wrtarga.c
[12%]: archiving.release libjpeg-6b.a
[12%]: ccache compiling.release ./wrjpgcom.c
[25%]: linking.release wrjpgcom
[25%]: ccache compiling.release ./ansi2knr.c
[37%]: linking.release ansi2knr
[37%]: ccache compiling.release ./jpegtran.c
[50%]: linking.release jpegtran
[50%]: ccache compiling.release ./djpeg.c
[62%]: linking.release djpeg
[62%]: ccache compiling.release ./ckconfig.c
[75%]: linking.release ckconfig
[75%]: ccache compiling.release ./rdjpgcom.c
[87%]: linking.release rdjpgcom
[87%]: ccache compiling.release ./cjpeg.c
[100%]: linking.release cjpeg
build ok!ğŸ‘Œ
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå¤„ç†é™æ€åº“ï¼Œxmakeè¿˜åˆ†æå‡ºäº†å¾ˆå¤šå¯æ‰§è¡Œçš„æµ‹è¯•ç¨‹åºï¼Œå‰©ä¸‹çš„ä»£ç ç»Ÿä¸€ç¼–è¯‘æˆä¸€ä¸ª libjpeg.a çš„é™æ€åº“ï¼Œä¾›å“ªäº›æµ‹è¯•ç¨‹åºé“¾æ¥ä½¿ç”¨ã€‚ã€‚</p>
<pre><code>target(ansi2knr): binary
    [+]: ./ansi2knr.c
target(cjpeg): binary
    [+]: ./cjpeg.c
target(ckconfig): binary
    [+]: ./ckconfig.c
target(djpeg): binary
    [+]: ./djpeg.c
target(jpegtran): binary
    [+]: ./jpegtran.c
target(rdjpgcom): binary
    [+]: ./rdjpgcom.c
target(wrjpgcom): binary
    [+]: ./wrjpgcom.c
</code></pre><h3 id="-">é‡åˆ°çš„ä¸€äº›é—®é¢˜å’Œé™åˆ¶</h3>
<p>å½“å‰xmakeçš„è¿™ç§è‡ªåŠ¨åˆ†ææ£€æµ‹è¿˜ä¸æ˜¯éå¸¸æ™ºèƒ½ï¼Œå¯¹äºï¼š</p>
<ol>
<li>éœ€è¦ç‰¹æ®Šçš„ç¼–è¯‘é€‰é¡¹</li>
<li>éœ€è¦ä¾èµ–å…¶ä»–ç›®å½•çš„å¤´æ–‡ä»¶æœç´¢</li>
<li>éœ€è¦åˆ†æ¡ä»¶ç¼–è¯‘ä¸åŒæºæ–‡ä»¶</li>
<li>åŒç›®å½•éœ€è¦ç”Ÿæˆå¤šä¸ªé™æ€åº“</li>
<li>éœ€è¦å¤šçº§ç›®å½•æ”¯æŒçš„æºç åº“</li>
</ol>
<p>ä»¥ä¸Šè¿™äº›æƒ…å†µï¼Œxmakeæš‚æ—¶è¿˜æ²¡å‘è‡ªåŠ¨åŒ–çš„æ™ºèƒ½å¤„ç†ï¼Œå…¶ä¸­é™åˆ¶1ï¼Œ2è¿˜æ˜¯å¯ä»¥è§£å†³çš„ï¼Œé€šè¿‡åŠæ‰‹åŠ¨çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="lang-bash">$ xmake f --cxflags="" --ldflags="" --includedirs="" --linkdirs=""; xmake
</code></pre>
<p>åœ¨è‡ªåŠ¨æ£€æµ‹ç¼–è¯‘çš„æ—¶å€™ï¼Œæ‰‹åŠ¨é…ç½®è¿™ä¸ªæºç å·¥ç¨‹éœ€è¦çš„ç‰¹æ®Šç¼–è¯‘é€‰é¡¹ï¼Œå°±å¯ä»¥ç›´æ¥é€šè¿‡ç¼–è¯‘äº†</p>
<p>è€Œé™åˆ¶3ï¼Œæš‚æ—¶åªèƒ½é€šè¿‡åˆ æºä»£ç æ¥è§£å†³äº†ï¼Œå°±åƒåˆšæ‰ç¼–è¯‘jpegçš„ä»£ç ï¼Œå…¶å®å®ƒçš„ç›®å½•ä¸‹é¢åŒæ—¶å­˜åœ¨äº†ï¼š</p>
<pre><code>jmemdos.c
jmemmac.c
jmemansi.c
</code></pre><p>å…¶ä¸­ä¸¤ä¸ªæ˜¯æ²¡æ³•ç¼–è¯‘è¿‡çš„ï¼Œéœ€è¦åˆ æ‰åæ‰è¡Œã€‚ã€‚</p>
</article>
</body>
</html>